"use strict";(self.webpackChunksubscription=self.webpackChunksubscription||[]).push([[5408],{17114:function(t,e,n){n.d(e,{C2:function(){return i},Ne:function(){return r},_7:function(){return a},uS:function(){return o},yr:function(){return s}});let o={MONTHLY:"monthly",YEARLY:"yearly",QUARTERLY:"quarterly"},a={UPGRADE:"congratulations_upgrade",UPGRADE_RENEWAL:"congratulations_upgrade_renewal",SWITCH_DOWNGRADE:"congratulations_switch_downgrade",SWITCH_DOWNGRADE_RENEWAL:"congratulations_switch_downgrade_renewal",NEW_SUBSCRIBER_RENEWAL:"congratulations_new_subscriber_renewal",NEW_SUBSCRIBER:"congratulations_new_subscriber",STACK:"congratulations_stack"},r={UPGRADE:"congratulations_date_upgrade",UPGRADE_RENEWAL:"congratulations_date_upgrade_renewal",SWITCH_DOWNGRADE:"congratulations_date_switch_downgrade",SWITCH_DOWNGRADE_RENEWAL:"congratulations_date_switch_downgrade_renewal",NEW_SUBSCRIBER_RENEWAL:"congratulations_date_new_subscriber_renewal",NEW_SUBSCRIBER:"congratulations_date_new_subscriber",STACK:"congratulations_date_new_subscriber"},i="https://shahid.mbc.net/mediaObject/promoPages",s={MUST_LOG_IN:"MUST_LOG_IN",INELIGIBLE_PLATFORM:"INELIGIBLE_PLATFORM",INELIGIBLE_USER:"INELIGIBLE_USER",OFFER_DOES_NOT_EXIST:"OFFER_DOES_NOT_EXIST",OFFER_EXPIRED:"OFFER_EXPIRED"}},75408:function(t,e,n){n.d(e,{H:function(){return g},I:function(){return p},T:function(){return R},Tw:function(){return w},VX:function(){return A},X7:function(){return f},Yu:function(){return y},ZR:function(){return I},aR:function(){return _},kU:function(){return E},lD:function(){return b},lv:function(){return m}});var o=n(15897),a=n(60945),r=n(59977),i=n(93741),s=n(46025),u=n(51895),d=n(25620),c=n(17114);let l="static/images/promo/warning.svg",p=(t,e)=>{let n=(0,d.Fq)(t),o=(null==e?void 0:e.subscriptionFlow)===i.c1L.ORGANIC_DOWNGRADE||(null==e?void 0:e.userFlow)==="downgrade";return{isDowngradeFlow:o,isUpgradeFlow:n&&!o,isChangeSubscriptionFlow:n}},_=(t,e)=>{let{isUpgradeFlow:n,isChangeSubscriptionFlow:o}=p(t,e),a=(null==e?void 0:e.subscriptionFlow)===i.c1L.UPSELL_ACQUISITION?i.c1L.UPSELL_ACQUISITION:i.c1L.ORGANIC_ACQUISITION;return o&&(a=n?(null==e?void 0:e.subscriptionFlow)===i.c1L.UPSELL_UPGRADE?i.c1L.UPSELL_UPGRADE:i.c1L.ORGANIC_UPGRADE:i.c1L.ORGANIC_DOWNGRADE),a},m=(t,e)=>{let{isDowngradeFlow:n,isUpgradeFlow:o}=p(t,e),a=i.lye.ACQUISITION;return o&&(a=i.lye.UPGRADE),n&&(a=i.lye.DOWNGRADE),a},g=t=>Array.isArray(t)&&!!t.length,E=(t,e)=>t.reduce((t,n)=>(n.products.forEach(n=>{var o,r;let i=n.id===a.Gy.FREE?null==e?void 0:null===(o=e[0])||void 0===o?void 0:o.promotedDurationTextComparisonTable:null==e?void 0:null===(r=e.find(t=>t.id==n.id))||void 0===r?void 0:r.promotedDurationTextComparisonTable,s=t.products.findIndex(t=>t.id===n.id);-1===s?t.products=[...t.products,{id:n.id,list:[n],promotedDurationTextComparisonTable:i}]:t.products[s]={...t.products[s],list:[...t.products[s].list,n]}}),{...t,labels:[...t.labels,n.label],products:t.products}),{labels:[],products:[]}),y=t=>{let e={};return null==t||t.forEach(t=>{e[t.flow]=t.showingType}),e},v=async t=>{try{if(!t)return"";let e="".concat(c.C2,"/").concat(t),n=await fetch(e);if((null==n?void 0:n.status)!==200)return"";return e}catch(t){return""}},b=async(t,e)=>{let n=null==e?void 0:e.split(","),o=async(t,e)=>{let n=await v(e);return n?{...t,assetUrl:"".concat(n,"?height={height}&width={width}&croppingPoint={croppingPoint}&type=webp")}:t};return Promise.all(null==t?void 0:t.map((t,e)=>o(t,n[e])))},w=async(t,e)=>{let n=null==e?void 0:e.split(","),o=await v(n[0]);return o?{...t,promoImageUrl:"".concat(o,"?height={height}&width={width}&croppingPoint={croppingPoint}&type=webp")}:t},A=t=>t===i.tJD.STACK||t===i.tJD.DOWNGRADE?"".concat(o.staticCDNURL,"/").concat(l):t===i.tJD.UPGRADE?"".concat(o.staticCDNURL,"/").concat("static/images/promo/glyph-downgrade.svg"):"".concat(o.staticCDNURL,"/").concat(l),I=t=>{var e,n,o,a,r;return(null==t?void 0:t.subscriptions)?null==t?void 0:null===(o=t.subscriptions)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:null===(e=n.paymentMethod)||void 0===e?void 0:e.paymentMethodType:null==t?void 0:null===(r=t.activeSubscription)||void 0===r?void 0:null===(a=r.paymentMethod)||void 0===a?void 0:a.paymentMethodType},R=t=>{let e=null==t?void 0:t.visualElements;if((null==e?void 0:e.length)>0){var n;return(null==e?void 0:null===(n=e.find(t=>"displayName"===t.key))||void 0===n?void 0:n.value)||""}return""},f=(t,e,n)=>{let o=n===s.J1.ITUNES||n===s.J1.I_TUNES,a=n===s.J1.GOOGLE_PLAY||n===s.J1.GOOGLE_PAY;return(0,d.uB)(t)?e.t("unsupported_subscription_messages.unsupported_upgrade_mobile_payment_b2b",{userPaymentMethod:e.t("payment_method_display_text.".concat(n))}):r.Ay.isIosWebView()&&a||r.Ay.isIosWebView()&&!o&&a||r.Ay.isAndroidWebView()&&o||!r.Ay.isAndroidWebView()&&a||!r.Ay.isIosWebView()&&o||r.Ay.isHuaweiWebView()&&(o||a)?e.t("unsupported_subscription_messages.unsupported_platform_upgrade",{operatingSystem:e.t("platform_display_text.".concat((0,u.tb)())),correctPlatform:e.t("platform_display_text.".concat((0,u.kE)(n)))}):r.Ay.isIosWebView()&&!o||r.Ay.isAndroidWebView()&&!a||r.Ay.isHuaweiWebView()&&(o||a)?e.t("unsupported_subscription_messages.unsupported_upgrade_platform",{userPaymentMethod:e.t("payment_method_display_text.".concat(n)),operatingSystem:e.t("platform_display_text.".concat((0,u.tb)()))}):e.t("unsupported_subscription_messages.unsupported_upgrade_ineligible_for_user",{userPaymentMethod:e.t("payment_method_display_text.".concat(n))})}},60945:function(t,e,n){var o,a,r,i,s,u,d;n.d(e,{Gy:function(){return o},hr:function(){return a}}),(o||(o={})).FREE="FREE",(s=a||(a={})).REGISTER="REGISTER",s.DOWNGRADE="DOWNGRADE",s.UPGRADE="UPGRADE",s.WATCH="WATCH",s.SUBSCRIBE="SUBSCRIBE",(u=r||(r={})).active="Active",u.inactive="Inactive",(d=i||(i={})).JO="JO",d.TR="TR"},51895:function(t,e,n){n.d(e,{dI:function(){return d},kE:function(){return u},tb:function(){return s}});var o=n(59977),a=n(93741),r=n(46025),i=n(25620);let s=()=>(0,o.Jk)()?o.vH.isIosWebView()?a.qwJ.IOS:a.qwJ.ANDROID:a.qwJ.WEB,u=t=>t===r.J1.ITUNES?a.qwJ.IOS:t===r.J1.GOOGLE_PLAY?a.qwJ.ANDROID:"",d=t=>{var e,n,a,d,c,l,p;let _,m,{t:g,isUpgradeFlow:E,user:y,productData:v,currentSelectedProduct:b="",isTPay:w=!1,isUsePromo:A=!1,oldSelectedPackageName:I=""}=t;if(!y)return;let{subscriptions:R,activeSubscription:f,subscriptionPlans:N}=y,P=R?null===(n=R[0])||void 0===n?void 0:null===(e=n.paymentMethod)||void 0===e?void 0:e.paymentMethodType:null==f?void 0:null===(a=f.paymentMethod)||void 0===a?void 0:a.paymentMethodType,h=null==v?void 0:v.find(t=>{var e;return t.id===(null==y?void 0:null===(e=y.activeSubscription)||void 0===e?void 0:e.ovpSku)}),S=A?"name":"messageDisplayName",L=I||(h?h[S]:"");if(0===b.length){let t=E?null==N?void 0:null===(c=N.upgradable)||void 0===c?void 0:null===(d=c[0])||void 0===d?void 0:d.ovpSku:null==N?void 0:null===(p=N.downgradable)||void 0===p?void 0:null===(l=p[0])||void 0===l?void 0:l.ovpSku;_=(0,o.fx)(t,v,A)}else _=b;let D=P===r.J1.ITUNES||P===r.J1.I_TUNES,O=P===r.J1.GOOGLE_PLAY||P===r.J1.GOOGLE_PAY;return P===r.J1.T_PAY.toLocaleUpperCase()&&!(0,o.Jk)()&&w?m=g((0,i.uB)(y)?"unsupported_subscription_messages.unsupported_".concat(E?"upgrade":"downgrade","_mobile_payment_b2b"):"unsupported_subscription_messages.unsupported_".concat(E?"upgrade":"downgrade","_mobile_payment"),{currentPackageName:L,nextPackageName:_,userPaymentMethod:g("payment_method_display_text.".concat(P)),operatingSystem:g("platform_display_text.".concat(s())),correctPlatform:g("platform_display_text.".concat(u(P)))}):o.vH.isIosWebView()&&O?m=g("unsupported_subscription_messages.unsupported_platform_".concat(E?"upgrade":"downgrade"),{currentPackageName:L,nextPackageName:_,userPaymentMethod:g("payment_method_display_text.".concat(P)),operatingSystem:g("platform_display_text.".concat(s())),correctPlatform:g("platform_display_text.".concat(u(P)))}):o.vH.isIosWebView()&&!D?m=g("unsupported_subscription_messages.unsupported_".concat(E?"upgrade":"downgrade","_platform"),{currentPackageName:L,nextPackageName:_,userPaymentMethod:g("payment_method_display_text.".concat(P)),operatingSystem:g("platform_display_text.".concat(s()))}):!o.vH.isAndroidWebView()||O||D?o.vH.isIosWebView()&&!D&&O||o.vH.isAndroidWebView()&&D||!o.vH.isAndroidWebView()&&O||!o.vH.isIosWebView()&&D?m=g("unsupported_subscription_messages.unsupported_platform_".concat(E?"upgrade":"downgrade"),{currentPackageName:L,nextPackageName:_,userPaymentMethod:g("payment_method_display_text.".concat(P)),operatingSystem:g("platform_display_text.".concat(s())),correctPlatform:g("platform_display_text.".concat(u(P)))}):o.vH.isIosWebView()||D||(m=P!==r.J1.T_PAY.toLocaleUpperCase()||w?g("supported_subscription_messages.supported_".concat(E?"upgrade":"downgrade","_message"),{nextPackageName:_,currentPackageName:L}):g("supported_subscription_messages.supported_".concat(E?"upgrade":"downgrade","_mobile_payment"),{currentPackageName:L,nextPackageName:_})):m=g("unsupported_subscription_messages.unsupported_".concat(E?"upgrade":"downgrade","_platform"),{currentPackageName:L,nextPackageName:_,userPaymentMethod:g("payment_method_display_text.".concat(P)),operatingSystem:g("platform_display_text.".concat(s()))}),m}}}]);