"use strict";(self.webpackChunksubscription=self.webpackChunksubscription||[]).push([[816],{43717:function(e,t,l){l.d(t,{Ae:function(){return d},JF:function(){return a},jA:function(){return n},r6:function(){return c}});var r,i,o=l(63233),s=l(59977);(r=i||(i={})).GET_PROMO_CODE="voucher/getPromoCode",r.ACTIVATE_VOUCHER="voucher/activate",r.STACK_VOUCHER="voucher/stack",r.REGRADE_VOUCHER="voucher/regrade";let a=async e=>{let{code:t,productId:l,country:r}=e,i=JSON.stringify({code:t,...l&&{ovpSku:l}});return(await o.A.post("voucher/getPromoCode",i,r?{params:{country:r}}:{})).data},d=async e=>{let{voucherCode:t,captchaToken:l,headers:r,productId:i}=e,a=JSON.stringify({voucherCode:t,ovpSku:i,[s.Ay.isHuaweiWebView()?"gtCaptchaResponse":"captchaToken"]:l});return(await o.A.post("voucher/activate",a,{headers:r})).data},n=async e=>{let{voucherCode:t,captchaToken:l,headers:r,productId:i}=e,a=JSON.stringify({voucherCode:t,ovpSku:i,[s.Ay.isHuaweiWebView()?"gtCaptchaResponse":"captchaToken"]:l});return(await o.A.post("voucher/stack",a,{headers:r})).data},c=async e=>{let{voucherCode:t,captchaToken:l,headers:r,productId:i}=e,a=JSON.stringify({voucherCode:t,ovpSku:i,[s.Ay.isHuaweiWebView()?"gtCaptchaResponse":"captchaToken"]:l});return(await o.A.post("voucher/regrade",a,{headers:r})).data}},99198:function(e,t,l){l.d(t,{p:function(){return h}});var r=l(45400),i=l(99870),o=l.n(i),s=l(35980),a=l(80535),d=l.n(a),n=l(77059),c=l(31066),x=l(15897),m=l(56221),u=l(49654);let p=e=>{let{value:t,label:l,icon:i,button:s}=e;return(0,r.jsx)("div",{className:"relative w-full md:vw-w-[280]",children:(0,r.jsxs)("div",{className:o()("flex items-center overflow-hidden rounded-[4px] border-[1px]","pb-[8px] pt-[22px] leading-[14px] vw-h-[44]","gap-[2px] border-dark-blue-4 bg-disableInput px-[12px] pb-[8px] pt-[22px]"),children:[(0,r.jsx)("div",{className:"text-[12px] text-white lg:vw-text-[12]",children:t}),i,s,(0,r.jsx)("label",{className:o()("absolute z-10 origin-[0] -translate-y-[7px] cursor-text leading-[12px] vw-top-[15]","text-[10px] text-light lg:vw-text-[10] ltr:left-[12px] rtl:right-[12px]"),children:l})]})})};var v=l(92296);let h=e=>{let{error:t,errorMessage:l,maxLength:i,isSubmitting:a=!1,classNameButton:h,classNameInput:b,labelInput:g,labelButton:w,onClick:f,isResizeLoading:j,defaultPromoCode:y="",isCodeRedemption:N,isPromoCodeApplied:k}=e,[C,R]=(0,n.useState)((0,v.Br)(y));return(0,c.w5)(()=>{R((0,v.Br)(y))},[y]),(0,r.jsx)(s.l1,{enableReinitialize:!0,initialValues:{promoCode:y},onSubmit:(e,t)=>{let{setFieldValue:l}=t;k&&(l("promoCode",""),R(!1)),null==f||f(e.promoCode,k)},children:e=>{let{values:n,handleChange:c,handleSubmit:f}=e;return(0,r.jsxs)(s.lV,{children:[(0,r.jsx)(s.D0,{name:"promoCode",children:e=>{let{field:s}=e;return k?(0,r.jsx)(p,{value:n.promoCode,label:g,icon:(0,r.jsx)(d(),{src:"".concat(x.staticCDNURL,"/").concat("static/images/icons/checkmark-green.svg"),width:12,height:12,className:o()("h-3 w-3"),alt:"CheckmarkIcon"}),button:n.promoCode&&(0,r.jsx)(m.A,{type:"submit",styleType:"primary",label:w,isFullWidth:!1,isSubmitting:a,isResizeLoading:j,disabled:!C||a,className:o()("absolute top-[50%] !h-[24px] translate-y-[-50%] !bg-none px-[10px] !text-[12px] !vw-rounded-[4] vw-min-w-[72] lg:!vw-text-[12] lg:!vw-h-[24] lg:vw-px-[10] ltr:right-[8px] rtl:left-[8px]",{"!bg-greenBg text-white":C&&!k,"border border-shahidGreen !bg-transparent !text-shahidGreen":k,"lg:hidden":N},h),onClick:f})}):(0,r.jsx)(u.F,{...s,className:b,inputClassName:"md:!text-[12px] lg:!vw-text-[12]",label:g,id:"promoCode",onChange:e=>{c(e),R((0,v.Br)(e.target.value))},maxLength:i,error:t,errorMessage:l,disabled:k,isDisabledExcp:k,button:n.promoCode&&(0,r.jsx)(m.A,{type:"submit",styleType:"primary",label:w,isFullWidth:!1,isSubmitting:a,isResizeLoading:j,disabled:!C||a,className:o()("absolute top-[50%] !h-[24px] translate-y-[-50%] !bg-none px-[10px] !text-[12px] !vw-rounded-[4] vw-min-w-[72] lg:!vw-text-[12] lg:!vw-h-[24] lg:vw-px-[10] ltr:right-[8px] rtl:left-[8px]",{"!bg-greenBg text-white":C&&!k,"border border-shahidGreen !bg-transparent !text-shahidGreen":k,"lg:hidden":N},h),onClick:f})})}}),N&&(0,r.jsx)(m.A,{isSubmitting:a,disabled:!C||a,type:"button",label:w,styleType:"primary",className:"mx-auto hidden vw-mt-[24] disabled:!bg-disableButton disabled:!text-applicationLightGrayText lg:flex lg:vw-w-[288]",onClick:f})]})}})}},89945:function(e,t,l){l.r(t),l.d(t,{default:function(){return en}});var r=l(45400),i=l(3514),o=l.n(i),s=l(34453),a=l(77059),d=l.n(a),n=l(99870),c=l.n(n),x=l(49179),m=l.n(x),u=l(31066),p=l(14122),v=l(75408),h=l(15897),b=l(51088),g=l(80913),w=l(37034),f=l(60945),j=l(93741);let y=m()(()=>Promise.all([l.e(931),l.e(8315)]).then(l.bind(l,28315)).catch(()=>()=>null),{loadableGenerated:{webpack:()=>[28315]},ssr:!1}),N=e=>{let{feature:t}=e;switch(t.display){case"tick":return(0,r.jsx)("img",{src:"".concat(h.staticCDNURL,"/").concat("static/images/glyph-icons-tick green.svg"),alt:"tickGreen",title:"tickGreen",className:"h-[11px] w-[14px] lg:vw-h-[12] lg:vw-w-[15]"});case"-":return(0,r.jsx)("img",{src:"".concat(h.staticCDNURL,"/").concat("static/images/glyph-icons-null.svg"),alt:"notAvailableIcon",title:"notAvailableIcon",className:"h-[11px] w-[14px] brightness-[0.83] contrast-[.92] hue-rotate-180  invert-[.81] saturate-[2.45] sepia-[.19] lg:vw-h-[12] lg:vw-w-[15]"});default:return(0,r.jsx)("div",{className:"text-[14px] text-light-blue-2 vw-w-[8] md:vw-text-[14] lg:font-shahidBold lg:text-white",children:t.display})}},k=e=>{let{product:t,featured:l,t:i,onSelectProduct:o,doesOfferExist:s}=e,a=t.list,d=t.id===l,{name:n,price:x,ctaText:m,oldPrice:u,strikethroughColor:p,offerPromotedDuration:v}=a[0],h=v||(null==t?void 0:t.promotedDurationTextComparisonTable);return(0,r.jsx)("div",{className:c()("h-full flex-[1_0_45%] text-white md:shrink","pb-[19px] md:vw-pb-[17] lg:vw-pb-[24]","border-b-solid border-b-[0.5px] border-b-dark-blue","md:border-b-0",{"relative bottom-0 rounded-tl-[10px] rounded-tr-[10px] border-[1px] border-dark-blue bg-tableMobile shadow-comparisonActiveColumn md:rounded-none md:border-0 md:bg-dark md:bg-none md:shadow-none":d,"before:absolute before:bottom-0 before:left-0 before:right-0 before:top-0 before:bg-tableMobileCell md:before:bg-none":d,"bg-body-dark md:bg-dark":!d}),children:(0,r.jsxs)("div",{className:c()("relative flex flex-col items-center justify-center text-center","px-[12px] md:px-0"),children:[(0,r.jsx)("div",{"data-testid":"comparedPackageName",className:c()("mt-[16px] text-[12px] font-medium text-nonFeaturedPackages","md:font-bold md:text-light-blue-5 md:vw-text-[14] lg:vw-text-[16] lg:vw-mt-[24]",{"text-[14px] !font-bold !text-white ":d},{"mb-[4px] md:vw-mb-[4]":s&&u,"mb-[8px] md:vw-mb-[16]":!s,"mb-[19px] md:vw-mb-[20.5] ltr:mb-[16.5px] md:ltr:vw-mb-[17.75]":s&&!u}),children:n}),(0,r.jsxs)("div",{className:"mb-[9px] flex flex-col items-center text-center leading-ar md:vw-mb-[12] ltr:leading-en",children:[u&&(0,r.jsxs)("div",{className:"relative w-min text-center text-[10px] leading-ar text-light md:vw-text-[11] ltr:leading-en",children:[u,(0,r.jsx)("div",{className:"absolute top-[45%] h-[1px] w-[100%] md:vw-h-[1]",style:{backgroundColor:p}})]}),(0,r.jsx)("span",{"data-testid":"comparedPackagePrice",className:"text-[10px] font-bold md:vw-text-[12] lg:vw-text-[14] ltr:leading-en rtl:leading-ar",children:x}),(0,r.jsx)("span",{"data-testid":"comparedPackageDuration",className:"text-[8px] font-medium text-light md:vw-text-[10] ltr:leading-en rtl:leading-ar",children:h})]}),m&&(0,r.jsx)("div",{onClick:()=>o(a[0]),className:c()("cursor-pointer vw-rounded-[500]","text-white","flex items-center justify-center","h-[20px] w-[64px] p-[2px] lg:vw-h-[24] lg:vw-w-[112]","bg-shahidGradient hover:bg-shahidGreen hover:bg-none"),children:(0,r.jsx)("div",{className:c()("flex h-full w-full items-center justify-center bg-epgLightBlackBg",{"bg-shahidGradient md:bg-none":d},"vw-rounded-[500]","text-[8px] font-bold text-white hover:bg-shahidGreen hover:bg-none md:vw-text-[10] lg:vw-text-[12]"),children:m})})]})})},C=d().forwardRef((e,t)=>{let{className:l,products:i,featured:o,t:s,onSelectProduct:a,doesOfferExist:d}=e;return(0,r.jsx)("div",{ref:t,className:c()("scrollerHeader noScrollBar flex flex-1 whitespace-nowrap","overflow-visible",l),children:(0,r.jsx)("div",{className:"flex w-full",children:i.map((e,t)=>(0,r.jsx)(k,{t:s,product:e,featured:o,onSelectProduct:a,doesOfferExist:d},"header-".concat(t,"-").concat(e.id)))})})});C.displayName="ScrollHeader";let R=e=>{var t,l,i;let{comparisonTable:o,products:d}=e,{t:n,i18n:x}=(0,s.useTranslation)(["subscription"]),[m,k]=(0,a.useState)(!1),[R,S]=(0,a.useState)(0),E=(0,w.GV)(e=>e.user),{featured:A,features:P}=o,T=(0,w.jL)(),G=(0,a.useRef)(),O=(0,a.useRef)(),_=(0,a.useRef)(),L=(0,a.useRef)(),[H,D]=(0,a.useState)(!1),B=(0,a.useRef)(),V=(0,a.useRef)(),I=null==d?void 0:d.some(e=>e.offersDeal),{labels:U,products:F}=(0,v.kU)(P,d),M=(0,v.ZR)(E),{handleClickButton:z,isShowPopUp:J,handleClosePopup:W}=(0,p.K)(),q=(0,b.A)(),K=e=>{let t=(null==d?void 0:d.length)>0?d.find(t=>t.id===e.id):void 0;e.action===f.hr.REGISTER&&e.id===f.Gy.FREE&&T((0,g.Vu)(j.Ase.NORMAL)),z(e,(null==t?void 0:t.goBox)||!1)};return(0,u.ML)("scroll",()=>{var e,t,l,r,i;if(!m)return;let o=null===(e=document.getElementById("mainContainer"))||void 0===e?void 0:e.scrollTop;o>=(null===(t=_.current)||void 0===t?void 0:t.offsetTop)+(null===(l=_.current)||void 0===l?void 0:l.offsetHeight)&&o<=(null===(r=L.current)||void 0===r?void 0:r.offsetTop)-(null===(i=G.current)||void 0===i?void 0:i.offsetHeight)?H||D(!0):H&&D(!1)},void 0,!0),(0,a.useEffect)(()=>{if(!R){var e;S(null==V?void 0:null===(e=V.current)||void 0===e?void 0:e.offsetHeight)}},[null==V?void 0:null===(t=V.current)||void 0===t?void 0:t.offsetHeight,m]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mt-[24px] font-sans font-medium md:vw-mt-[32]",children:[(0,r.jsxs)("div",{ref:_,onClick:()=>{k(!m)},className:c()("flex cursor-pointer items-center justify-center gap-[10px]","text-[16px] font-bold text-shahidGreen md:vw-text-[16] lg:vw-text-[24]",{"pb-[24px] md:vw-pb-[32] lg:vw-pb-[32]":m}),children:[(0,r.jsx)("div",{children:n("compare_packages")}),(0,r.jsx)("img",{src:"".concat(h.staticCDNURL,"/").concat("static/images/shdicons-24-2-px-arrows-down-no-space.svg"),alt:"arrowDown",title:"arrowDown",className:c()("md:vw-h-[16] md:vw-w-[16]",{"rotate-180":!m,"rotate-0":m})})]}),(0,r.jsxs)("div",{className:c()("ml-[15px] md:vw-mx-[33] lg:vw-mx-[48]",{hidden:!m,block:m}),children:[(0,r.jsx)("div",{ref:G,className:c()("tableHeader z-10",{relative:!H,"left-[15px] right-0 md:fixed md:top-0 md:vw-left-[33] md:vw-right-[33] lg:vw-left-[48] lg:vw-right-[48]":H,"md:mt-md-48 xl:mt-16 2xl:mt-2xl-64":H&&!q}),style:H?{width:null==O?void 0:null===(l=O.current)||void 0===l?void 0:l.offsetWidth}:{},children:(0,r.jsxs)("div",{className:"flex overflow-hidden bg-body-dark md:bg-dark md:shadow-comparisonTableRE md:vw-rounded-tl-[8] md:vw-rounded-tr-[8]",children:[(0,r.jsx)("div",{className:"w-[30%]",children:(0,r.jsx)("div",{className:c()("top-[0px]")})}),(0,r.jsx)(C,{products:F,featured:A,t:n,onSelectProduct:K,className:"hidden md:flex",doesOfferExist:I})]})}),(0,r.jsx)("div",{className:c()("hidden",{"md:block":H}),style:{height:null===(i=G.current)||void 0===i?void 0:i.offsetHeight}}),(0,r.jsxs)("div",{className:"flex",ref:O,children:[(0,r.jsxs)("div",{className:"w-[30%]",children:[(0,r.jsx)("div",{className:"block md:hidden",style:{height:R}}),U.map((e,t)=>(0,r.jsx)("div",{"data-testid":"packagesComparisonCriterion",className:c()("flex h-[79px] items-center bg-body-dark px-3 md:vw-px-[24] lg:vw-h-[90] lg:vw-px-[40]",{"md:bg-dark-blue":t%2==0,"md:bg-dark":t%2==1},"border-b-[0.5px] border-b-dark-blue","ltr:md:border-r-[1px] ltr:md:border-r-gray rtl:md:border-l-[1px] rtl:md:border-l-gray"),children:(0,r.jsx)("span",{className:"font-shahidMedium text-[9px] leading-normal text-shahidGray md:text-light-blue-5 md:vw-text-[12] lg:vw-text-[14]",children:e})},"".concat(t,"-").concat(e)))]}),(0,r.jsxs)("div",{ref:B,className:c()("tracks noScrollBar flex flex-1 flex-col whitespace-nowrap","overflow-y-hidden overflow-x-scroll md:overflow-visible"),children:[(0,r.jsx)(C,{ref:V,products:F,featured:A,t:n,onSelectProduct:K,className:"flex md:hidden",doesOfferExist:I}),(0,r.jsx)("div",{className:"flex w-full",children:F.map((e,t)=>{let l=e.list,i=e.id===A;return(0,r.jsx)("div",{className:c()("flex-[1_0_45%] text-white md:shrink md:py-0",{"z-[1] rounded-bl-[10px] rounded-br-[10px] border-[1px] border-dark-blue pb-[16.3px] shadow-comparisonActiveColumn md:rounded-none md:border-0 md:shadow-none":i}),children:l.map((e,t)=>(0,r.jsx)("div",{className:c()("flex h-[79px] items-center justify-center border-b-[0.5px] border-b-dark-blue lg:vw-h-[90]",{"bg-dark md:bg-dark-blue":t%2==0&&!i,"bg-dark":t%2==1&&!i,"bg-lightFeatured  md:bg-dark":t%2==1&&i,"bg-lightFeatured md:bg-dark-blue":t%2==0&&i,relative:i,"before:absolute before:bottom-0 before:left-[4px] before:right-[4px] before:bg-applicationGrayButton md:before:bg-transparent":i,"before:h-[0.5px]":l.length-1!==t}),children:(0,r.jsx)(N,{feature:e})},"".concat(e.id,"-").concat(t)))},"".concat(t,"-").concat(e.id))})})]})]}),(0,r.jsx)("div",{ref:L,className:"tableBottom relative z-[1] w-full bg-dark shadow-comparisonTableBottom md:mb-[10px] md:h-[43px] md:vw-rounded-bl-[8] md:vw-rounded-br-[8] lg:vw-h-[53]"})]})]}),(0,r.jsx)(y,{visible:J,handleClosePopup:W,handleClickPrimaryBtn:W,iconUrl:"".concat(h.staticCDNURL,"/").concat("static/images/promo/warning_promo.svg"),labelBtn:n("continue_btn"),descriptionText:(0,v.X7)(E,x,M)})]})};var S=l(15138),E=l(23896),A=l(99198),P=l(90333),T=l(76261),G=l(7343);let O=e=>{let{title:t,redeemLink:l}=e,{t:i}=(0,s.useTranslation)("subscription"),{goToCodeRedemptionPage:o}=(0,G.A)(),{handleClickButton:a,isLoading:d}=(0,P.O)({});return(0,r.jsx)("div",{className:c()("flex items-center justify-center bg-promoCode px-[16px] py-[33px]","md:px-0 md:py-[40px] xl:vw-py-[40]"),children:(0,r.jsxs)("div",{className:"w-full md:vw-max-w-[365]",children:[(0,r.jsx)("div",{className:"mb-[24px] flex justify-center md:vw-mb-[32]",children:(0,r.jsx)(T.A,{template:T.y.UNDERLINED_TITLE,displayedText:t,className:"text-[16px] !text-white vw-pb-[8] md:vw-text-[20] lg:vw-text-[24] lg:vw-pb-[12]"})}),(0,r.jsx)(A.p,{isSubmitting:d,isResizeLoading:!0,inputType:"text",labelInput:i("promo_code_block.enter_promo_code"),labelButton:i("promo_code_block.apply"),onClick:a}),(0,r.jsx)("div",{className:"flex justify-center vw-mt-[16]",children:(0,r.jsx)("button",{type:"button",onClick:o,className:"text-[12px] font-medium text-shahidGray underline md:vw-text-[14]",children:l})})]})})};var _=l(67363),L=l(35230),H=l(71722),D=l(81492),B=l(35685);let V=e=>{let{disabled:t=!1,className:l,type:i,...o}=e;return(0,r.jsx)("div",{className:c()("flex items-center justify-center rounded-full bg-[#3e495b]","h-[32px] w-[32px] cursor-pointer md:vw-h-[40] md:vw-w-[40] xl:vw-h-[46] xl:vw-w-[46]","absolute top-[126px] z-[100] md:vw-top-[127] xl:vw-top-[214]",l),...o,children:(0,r.jsxs)("svg",{width:"13px",height:"20px",viewBox:"0 0 13 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:c()("h-[12px] w-[8px] md:vw-h-[16] md:vw-w-[10] lg:vw-h-[19] lg:vw-w-[12]",{"-rotate-180":"prev"===i}),children:[(0,r.jsx)("title",{children:"Group"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{x1:"0%",y1:"0%",x2:"0%",y2:"100%",id:"linearGradient-1",children:[(0,r.jsx)("stop",{stopColor:"#00CC99",offset:"0%"}),(0,r.jsx)("stop",{stopColor:"#0099FF",offset:"100%"})]})}),(0,r.jsx)("g",{id:"Promo",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,r.jsx)("g",{id:"Group",transform:"translate(0.667, 0.0919)",fill:"url(#linearGradient-1)",fillRule:"nonzero",children:(0,r.jsx)("polygon",{id:"Path",points:"7.425 9.54594 0 2.121 2.121 0 11.667 9.54594 2.121 19.09194 0 16.96944 7.425 9.54444"})})})]})})},I={Prev:e=>{let{className:t,...l}=e;return(0,r.jsx)(V,{className:c()("left-[16px] justify-start md:left-[45px]",t),...l,type:"prev"})},Next:e=>{let{className:t,...l}=e;return(0,r.jsx)(V,{className:c()("left-auto right-[16px] justify-end md:right-[45px]",t),...l,type:"next"})}};var U=l(95450),F=l(542),M=l(56221),z=l(17189);let J=e=>{let{promoSlider:t}=e,{push:l}=(0,F.useRouter)(),{ctaOfferParam:i,ctaText:o,promoDescription:s,title:a}=t,d=i&&z.jH.offer.replace(":offerParam",i),n=i&&(()=>l(d));return(0,r.jsxs)("div",{className:c()("absolute z-20 flex w-full flex-col items-center text-center ltr:leading-en rtl:leading-ar","bottom-[-67px] font-sans md:vw-bottom-[60] xl:vw-bottom-[150]"),children:[(0,r.jsx)("div",{"data-testid":"promoSliderTitle",className:c()("px-4 md:px-0 md:vw-w-[554] lg:vw-w-[714]","text-[22px] font-black text-white md:vw-text-[28] xl:vw-text-[36]"),children:a}),(0,r.jsx)("div",{"data-testid":"promoSliderDescription",className:c()("mt-[8px] px-[16px] font-medium text-light-blue-2 md:px-0 md:vw-w-[554] lg:vw-w-[714]","text-[14px] md:vw-text-[20] xl:vw-text-[24]"),children:s}),i&&(0,r.jsx)(M.A,{label:o,styleType:"primary",className:"box-border !w-[calc(100%-32px)] !vw-h-[32] vw-mt-[16] md:px-0 md:!vw-w-[288]",onClick:n})]})},W=e=>{let{promoSlider:t}=e;return(0,r.jsx)(U.D,{imageTitle:t.title,imageUrl:t.assetUrl,className:"slider-slide",children:(0,r.jsx)(J,{promoSlider:t})})},q=e=>{let{sliderList:t,sliderIdx:l}=e;return(0,r.jsx)("div",{className:c()("flex w-full justify-center gap-[8px] text-center","absolute bottom-[-91px] z-[100] md:vw-bottom-[35] xl:vw-bottom-[147]"),children:t.map((e,t)=>(0,r.jsx)("div",{className:c()("h-[8px] w-[8px] rounded-full lg:h-[12px] lg:w-[12px]",{"bg-greenBg":t===l,"bg-dark-blue-4":t!==l})},"".concat(t,"+").concat(e.title)))})},K=e=>{let{promoSliders:t}=e,{i18n:l}=(0,s.useTranslation)(),i=(0,B.H)("query"),[o,d]=(0,a.useState)(t),[n,c]=(0,a.useState)(0),[x,m]=(0,a.useState)(0),{isTouchDevice:p}=(0,D.R)(),h="ltr"===l.dir(),[b,g]=(0,H.E)({slides:o.length,rubberband:!1,drag:!0,loop:o.length>1,mode:"snap",rtl:!h,defaultAnimation:{duration:1900},selector:".slider-slide",animationEnded(e){c(e.track.details.rel)},slideChanged(e){m(e.track.details.rel)}},[]);(0,a.useEffect)(()=>{if(null==i?void 0:i.heroImages){var e;(0,v.lD)(t,null==i?void 0:null===(e=i.heroImages)||void 0===e?void 0:e.toString()).then(d)}else d(t)},[null==i?void 0:i.heroImages,t]),(0,a.useEffect)(()=>{let e=setTimeout(()=>f(),5e3);return()=>{clearTimeout(e)}},[n]),(0,u.w5)(()=>{var e;null===(e=g.current)||void 0===e||e.moveToIdx(n,!1)},[n]);let w=p?x:n,f=()=>{c(n+1>=o.length?0:n+1)},j=()=>{c(0===n?o.length-1:n-1)},y=o.length>1;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"relative mb-[91px] bg-promoBg md:vw-mb-[-11] xl:vw-mb-[-107]",children:[(0,r.jsx)("div",{ref:b,className:"slider relative flex w-full",children:o&&o.map((e,t)=>(0,r.jsx)(W,{promoSlider:e},"".concat(t,"_").concat(e.title)))}),y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Prev,{onClick:()=>{j()}}),(0,r.jsx)(I.Next,{onClick:()=>{f()}}),(0,r.jsx)(q,{sliderList:o,sliderIdx:w})]})]})})};var X=l(16443),Z=l(50336),Q=l(85373),Y=l(38284),$=l(49502),ee=l(49388),et=l(89383),el=l(1357),er=l(21562),ei=l(79729),eo=l(1626),es=l(1058),ea=l(59977),ed=l(33140);function en(e){let{userAgent:t,initialData:l}=e;return(0,r.jsx)(X.d,{userAgent:t,children:(0,r.jsx)(ec,{initialData:l})})}function ec(e){var t,l,i,d,n,c;let{initialData:x}=e,m=(0,w.jL)(),{i18n:u,t:p}=(0,s.useTranslation)("subscription"),h=(0,w.GV)(e=>e.user),b=(0,w.GV)(e=>{var t;return null===(t=e._persist)||void 0===t?void 0:t.rehydrated}),{getCDPEventData:f}=(0,Q.A)(),y=(0,B.H)("query"),N=(0,es.d)(),k=(0,v.aR)(h,y),C=(0,eo.B)(),{data:A}=(0,Z.A)("productData",x),{addOns:P,ovpAddonsMappings:T,pageComponents:G,faults:H}=(null==A?void 0:null===(t=A.subscriptionJourney)||void 0===t?void 0:t.promoPage)||{},{products:D,sliders:V}=G||{},I=Array.isArray(H)&&H[0].userMessage,{data:U}=(0,Z.A)("restData",x),{faqs:F,comparisonTable:M,benefits:z,payWith:J,promoCode:W}=(null==U?void 0:null===(i=U.subscriptionJourney)||void 0===i?void 0:null===(l=i.promoPage)||void 0===l?void 0:l.pageComponents)||{},q=(0,et.Z)(e=>e.resetOfferGlobalData),X=(0,el.p)(e=>e.resetSelectedAddOnsStore);return((0,a.useEffect)(()=>{I&&N.error(I)},[I]),(0,a.useEffect)(()=>{var e;m((0,g.Vu)(j.Ase.SUBSCRIPTION)),(null==y?void 0:y.redirect)&&(0,ee.Sz)((0,ea.VL)(null==y?void 0:null===(e=y.redirect)||void 0===e?void 0:e.toString())),q(),X(),C(er.ss.PAGE_VIEW,{virtualPagePath:er.kQ.PROMO})},[]),(0,a.useEffect)(()=>{var e,t,l;(null===(e=window)||void 0===e?void 0:e.mParticle)&&b&&(null===(t=(l=window.mParticle).logPageView)||void 0===t||t.call(l,ei.BE.SCREEN_VIEW,f({screenName:ei.fS.MULTI_PROMO_PAGE,isScreenView:!0,i18n:u})))},[b]),(0,$.P)(),(0,Y.x)(),H)?null:(0,r.jsxs)("div",{children:[(0,r.jsx)(ed.A,{title:null==V?void 0:null===(d=V[0])||void 0===d?void 0:d.title,description:null==V?void 0:null===(n=V[0])||void 0===n?void 0:n.promoDescription,keywords:p("multi_promo_page_metadata.keywords"),products:D}),(0,r.jsx)("h1",{className:"absolute indent-[-9999px]",children:null==V?void 0:null===(c=V[0])||void 0===c?void 0:c.title}),(0,v.H)(V)&&(0,r.jsx)(K,{promoSliders:V}),(0,v.H)(D)&&(0,v.H)(T)&&(0,r.jsx)(_.a,{showTitle:!1,products:D,ovpAddonsMappings:T,subscriptionFlow:k,addOns:P,isMultiPromoPage:!0}),!o()(M)&&(0,r.jsx)(R,{comparisonTable:M,products:D}),(0,v.H)(z)&&(0,r.jsx)(E.R,{promoBenefitsList:z}),(0,v.H)(J)&&(0,r.jsx)(L.X,{promoPayWithList:J}),!o()(W)&&(0,r.jsx)(O,{title:null==W?void 0:W.title,redeemLink:null==W?void 0:W.redeemLink}),(0,v.H)(F)&&(0,r.jsx)(S.I,{items:F})]})}},90333:function(e,t,l){l.d(t,{O:function(){return g}});var r=l(77332),i=l(34453),o=l(542),s=l(43717),a=l(80913),d=l(37034),n=l(57708),c=l(1735),x=l(17189),m=l(7343),u=l(1058),p=l(93741),v=l(46025),h=l(50677),b=l(25620);let g=e=>{var t,l;let{onSuccess:g,onError:w,productId:f}=e,j=(0,d.GV)(e=>e.user),y=(0,d.jL)(),{asPath:N,query:k}=(0,o.useRouter)(),{goToManageSubscriptionsPage:C,goToCodeDetailsPage:R,goToRegistrationPage:S}=(0,m.A)(),E=(0,u.d)(),{t:A}=(0,i.useTranslation)("subscription"),P=(0,n.J)(e=>e.skuDetails),T=(0,b.Fq)(j),{isUserEligibleForCoupon:G}=(0,b._g)(j),O=(null==j?void 0:null===(l=j.activeSubscription)||void 0===l?void 0:null===(t=l.paymentMethod)||void 0===t?void 0:t.paymentMethodName)||"",_=(null==O?void 0:O.toLowerCase())===v.J1.VOUCHER.toLowerCase(),L=(0,c.d)(e=>e.saveCurrentPromoCodeDetails),H=(0,c.d)(e=>e.resetState),D=(0,c.d)(e=>e.setCheckingCode),B=e=>{let t=(0,h.u)(e);t&&E.error(t)},V=(0,r.useMutation)({mutationFn:e=>(0,s.JF)(e),onSuccess:async(e,t)=>{let{type:l}=e,{code:r}=t,i={...e,code:r};if((null==N?void 0:N.indexOf(x.jH.promo))>-1&&!j)return y((0,a.DJ)({routeName:x.jH.codeRedemption,data:{code:r}})),S();if(g)return g(i);if(!T||l===p.L9c.VOUCHER||G){L(i),R();return}if(l===p.L9c.COUPON){I();return}},onError:e=>{B(e),w&&w(e)}}),I=()=>{E.success(A("promo_code_already_subscribed")),H(),C()};return{handleClickButton:e=>{let t=(null==N?void 0:N.indexOf(x.jH.promo))>-1,l=null==k?void 0:k.dealParam;if(D(e),t)return V.mutate({code:e,productId:f,country:null==P?void 0:P.skuOriginCountry});j?V.mutate({code:e,productId:f,country:null==P?void 0:P.skuOriginCountry}):(y((0,a.DJ)({routeName:l?x.jH.landingPageDeal:x.jH.codeRedemption,data:{code:e,dealParam:l}})),S())},isLoading:V.isLoading,isError:V.isError,handleGoToManageSubscription:I,isVoucher:_}}}}]);